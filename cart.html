<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Your Cart</title>

<style>
body{
    font-family: 'Segoe UI', sans-serif;
    background:#f4f6f8;
    margin:0;
}

.header{
    background: linear-gradient(135deg,#0f9d58,#34a853);
    padding:20px;
    color:white;
    font-size:22px;
}

.container{
    max-width:1100px;
    margin:30px auto;
    background:white;
    padding:30px;
    border-radius:18px;
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}

.cart-item{
    display:grid;
    grid-template-columns:120px 1fr 160px 140px 60px;
    gap:20px;
    align-items:center;
    padding:20px 0;
    border-bottom:1px solid #eee;
}

.cart-item img{
    width:100px;
    border-radius:12px;
}

.cart-title{
    font-weight:600;
    font-size:16px;
}

.qty-box{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:center;
}

.qty-box button{
    width:32px;
    height:32px;
    border:none;
    background:#0f9d58;
    color:white;
    border-radius:50%;
    cursor:pointer;
    font-size:16px;
}

.remove-btn{
    background:#e53935;
    border:none;
    color:white;
    border-radius:50%;
    width:32px;
    height:32px;
    cursor:pointer;
    font-size:16px;
}

.summary{
    margin-top:30px;
    padding:20px;
    background:#f9fafb;
    border-radius:15px;
}

.summary-row{
    display:flex;
    justify-content:space-between;
    margin:8px 0;
    font-size:16px;
}

.summary-row.total{
    font-size:20px;
    font-weight:bold;
    color:#0f9d58;
    border-top:1px solid #ddd;
    padding-top:10px;
}

.actions{
    display:flex;
    gap:15px;
    margin-top:20px;
    flex-wrap:wrap;
}

.checkout-btn{
    padding:14px 30px;
    background:#0f9d58;
    color:white;
    border:none;
    border-radius:30px;
    font-size:16px;
    cursor:pointer;
}

.clear-btn{
    padding:14px 30px;
    background:#777;
    color:white;
    border:none;
    border-radius:30px;
    font-size:16px;
    cursor:pointer;
}

.empty{
    text-align:center;
    font-size:22px;
    color:#777;
    padding:60px 20px;
}
</style>
</head>

<body>

<div class="header">ðŸ›’ Sun Solar â€“ Your Cart</div>

<div class="container" id="cartContainer"></div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const container = document.getElementById("cartContainer");

function renderCart(){
    if(cart.length === 0){
        container.innerHTML = `
          <div class="empty">
            ðŸ›’ Your cart is empty <br><br>
            <button class="checkout-btn" onclick="goShop()">Go to Products</button>
          </div>`;
        return;
    }

    let html = "";
    let subTotal = 0;

    cart.forEach(item => {
        const total = item.price * item.qty;
        subTotal += total;

        html += `
        <div class="cart-item">
            <img src="${item.image}">
            <div>
                <div class="cart-title">${item.name}</div>
                <div>â‚¹${item.price.toLocaleString("en-IN")}</div>
            </div>

            <div class="qty-box">
                <button onclick="changeQty(${item.id},-1)">âˆ’</button>
                <span>${item.qty}</span>
                <button onclick="changeQty(${item.id},1)">+</button>
            </div>

            <div>â‚¹${total.toLocaleString("en-IN")}</div>

            <button class="remove-btn" onclick="removeItem(${item.id})">âœ–</button>
        </div>
        `;
    });

    const gst = subTotal * 0.18;
    const grandTotal = subTotal + gst;

    html += `
      <div class="summary">
        <div class="summary-row">
          <span>Subtotal</span>
          <span>â‚¹${subTotal.toLocaleString("en-IN")}</span>
        </div>
        <div class="summary-row">
          <span>GST (18%)</span>
          <span>â‚¹${gst.toLocaleString("en-IN")}</span>
        </div>
        <div class="summary-row total">
          <span>Grand Total</span>
          <span>â‚¹${grandTotal.toLocaleString("en-IN")}</span>
        </div>

        <div class="actions">
          <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
          <button class="clear-btn" onclick="clearCart()">Clear Cart</button>
        </div>
      </div>
    `;

    container.innerHTML = html;
}

function changeQty(id,change){
    const item = cart.find(p => p.id === id);
    item.qty += change;

    if(item.qty <= 0){
        cart = cart.filter(p => p.id !== id);
    }

    saveCart();
}

function removeItem(id){
    cart = cart.filter(p => p.id !== id);
    saveCart();
}

function clearCart(){
    if(confirm("Are you sure you want to clear the cart?")){
        cart = [];
        saveCart();
    }
}

function saveCart(){
    localStorage.setItem("cart", JSON.stringify(cart));
    renderCart();
}

function checkout(){
    // redirect to payment / checkout page
    window.location.href = "checkout.html"; 
}

function goShop(){
    window.location.href = "index.html"; 
}

renderCart();
</script>

</body>
</html>
